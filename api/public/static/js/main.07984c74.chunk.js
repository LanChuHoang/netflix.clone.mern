(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(36),r=c.n(a),i=(c(44),c(9)),o=c(18),l=c(3),j=c(93),u=c(94),b=c(95),O=(c(45),c(11)),d=c(37),h=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"LOGOUT":return{user:null,isFetching:!1,error:!1};default:return Object(d.a)({},e)}},p=c(0),x={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},m=Object(s.createContext)(x),v=function(e){var t=e.children,c=Object(s.useReducer)(h,x),n=Object(l.a)(c,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){localStorage.setItem("user",JSON.stringify(a.user))}),[a.user]),Object(p.jsx)(m.Provider,{value:{user:a.user,isFetching:a.isFetching,error:a.error,dispatch:r},children:t})},f=function(e){return{type:"LOGIN_SUCCESS",payload:e}},g=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(s.useContext)(m).dispatch;return window.onscroll=function(){return n(0!==window.pageYOffset),function(){return window.onscroll=null}},Object(p.jsx)("div",{className:c?"navbar scrolled":"navbar",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"left",children:[Object(p.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/2560px-Netflix_2015_logo.svg.png",alt:""}),Object(p.jsx)(O.b,{to:"/",className:"link",children:Object(p.jsx)("span",{children:"Homepage"})}),Object(p.jsx)(O.b,{to:"/series",className:"link",children:Object(p.jsx)("span",{className:"navbarmainLinks",children:"Series"})}),Object(p.jsx)(O.b,{to:"/movies",className:"link",children:Object(p.jsx)("span",{className:"navbarmainLinks",children:"Movies"})}),Object(p.jsx)("span",{children:"New and Popular"}),Object(p.jsx)("span",{children:"My List"})]}),Object(p.jsxs)("div",{className:"right",children:[Object(p.jsx)(j.a,{className:"icon"}),Object(p.jsx)("span",{children:"KID"}),Object(p.jsx)(u.a,{className:"icon"}),Object(p.jsx)("img",{src:"https://images.pexels.com/photos/6899260/pexels-photo-6899260.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:""}),Object(p.jsxs)("div",{className:"profile",children:[Object(p.jsx)(b.a,{className:"icon"}),Object(p.jsxs)("div",{className:"options",children:[Object(p.jsx)("span",{children:"Settings"}),Object(p.jsx)("span",{onClick:function(){return a({type:"LOGOUT"})},children:"Logout"})]})]})]})]})})},N=c(96),y=c(97),w=c(17),S=c.n(w);c(74);function k(e){var t=e.type,c=e.setGenre,n=Object(s.useState)({}),a=Object(l.a)(n,2),r=a[0],j=a[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("rm"),e.next=4,S.a.get("http://localhost:8000/api/movie/random?type=".concat(t),{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 4:c=e.sent,j(c.data[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),console.log(r),Object(p.jsxs)("div",{className:"featured",children:[t&&Object(p.jsxs)("div",{className:"category",children:[Object(p.jsx)("span",{children:"movie"===t?"Movies":"Series"}),Object(p.jsxs)("select",{name:"genre",id:"genre",onChange:function(e){return c(e.target.value)},children:[Object(p.jsx)("option",{children:"Genre"}),Object(p.jsx)("option",{value:"Action",children:"Action"}),Object(p.jsx)("option",{value:"Adventure",children:"Adventure"}),Object(p.jsx)("option",{value:"Animation",children:"Animation"}),Object(p.jsx)("option",{value:"Comedy",children:"Comedy"}),Object(p.jsx)("option",{value:"Crime",children:"Crime"}),Object(p.jsx)("option",{value:"Documentary",children:"Documentary"}),Object(p.jsx)("option",{value:"Drama",children:"Drama"}),Object(p.jsx)("option",{value:"Family",children:"Family"}),Object(p.jsx)("option",{value:"Fantasy",children:"Fantasy"}),Object(p.jsx)("option",{value:"History",children:"History"}),Object(p.jsx)("option",{value:"Horror",children:"Horror"}),Object(p.jsx)("option",{value:"Music",children:"Music"}),Object(p.jsx)("option",{value:"Mystery",children:"Mystery"}),Object(p.jsx)("option",{value:"Romance",children:"Romance"}),Object(p.jsx)("option",{value:"Science Fiction",children:"Science Fiction"}),Object(p.jsx)("option",{value:"TV Movie",children:"TV Movie"}),Object(p.jsx)("option",{value:"Thriller",children:"Thriller"}),Object(p.jsx)("option",{value:"War",children:"War"}),Object(p.jsx)("option",{value:"Western",children:"Western"})]})]}),Object(p.jsx)("img",{src:r.image,alt:""}),Object(p.jsxs)("div",{className:"info",children:[Object(p.jsx)("img",{src:r.imageTitle,alt:r.title}),Object(p.jsx)("span",{className:"desc",children:r.description}),Object(p.jsxs)("div",{className:"buttons",children:[Object(p.jsxs)("button",{className:"play",children:[Object(p.jsx)(N.a,{}),Object(p.jsx)("span",{children:"Play"})]}),Object(p.jsxs)("button",{className:"more",children:[Object(p.jsx)(y.a,{}),Object(p.jsx)("span",{children:"Info"})]})]})]})]})}c(75);var C=c(101),I=c(102),T=(c(76),c(98)),F=c(99),_=c(100);function A(e){var t=e.index,c=e.item,n=Object(s.useState)(!1),a=Object(l.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)({}),j=Object(l.a)(o,2),u=j[0],b=j[1];return Object(s.useEffect)((function(){b(c)}),[c]),Object(p.jsx)(O.b,{to:{pathname:"/watch",movie:u},children:Object(p.jsxs)("div",{className:"listItem",style:{left:r&&225*t-50+2.5*t},onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)},children:[Object(p.jsx)("img",{src:u.imageThumbnail,alt:""}),r&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("video",{src:"https://www.youtube.com/watch?v=1mTjfMFyPi8",autoPlay:!0,loop:!0}),Object(p.jsxs)("div",{className:"itemInfo",children:[Object(p.jsxs)("div",{className:"icons",children:[Object(p.jsx)(N.a,{className:"icon"}),Object(p.jsx)(T.a,{className:"icon"}),Object(p.jsx)(F.a,{className:"icon"}),Object(p.jsx)(_.a,{className:"icon"})]}),Object(p.jsxs)("div",{className:"itemInfoTop",children:[Object(p.jsx)("span",{children:u.title}),Object(p.jsxs)("span",{className:"limit",children:["+",u.limit]}),Object(p.jsx)("span",{children:new Date(u.releaseDate).getFullYear()})]}),Object(p.jsx)("div",{className:"desc",children:u.description}),Object(p.jsx)("div",{className:"genre",children:u.genres.join(", ")})]})]})]})})}c(77);function L(e){var t=e.list,c=Object(s.useState)(!1),n=Object(l.a)(c,2),a=n[0],r=n[1],i=Object(s.useState)(0),o=Object(l.a)(i,2),j=o[0],u=o[1],b=Object(s.useState)(window.innerWidth/230),O=Object(l.a)(b,2),d=O[0],h=(O[1],Object(s.useRef)()),x=function(e){r(!0);var t=h.current.getBoundingClientRect().x-50;"left"===e&&j>0&&(u(j-1),h.current.style.transform="translateX(".concat(230+t,"px)")),"right"===e&&j<10-d&&(u(j+1),h.current.style.transform="translateX(".concat(-230+t,"px)"))};return Object(p.jsxs)("div",{className:"list",children:[Object(p.jsx)("span",{className:"listTitle",children:t.title}),Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsx)(C.a,{className:"sliderArrow left",onClick:function(){return x("left")},style:{display:!a&&"none"}}),Object(p.jsx)("div",{className:"container",ref:h,children:t.items.map((function(e,t){return Object(p.jsx)(A,{index:t,item:e})}))}),Object(p.jsx)(I.a,{className:"sliderArrow right",onClick:function(){return x("right")}})]})]})}var G=function(e){var t=e.type;console.log(t);var c=Object(s.useState)([]),n=Object(l.a)(c,2),a=n[0],r=n[1],j=Object(s.useState)(null),u=Object(l.a)(j,2),b=u[0],O=u[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("http://localhost:8000/api/list/random?type=".concat(t).concat(b?"&genre="+b:"","&limit=10"),{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("user")).accessToken}});case 3:c=e.sent,r(c.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,b]),Object(p.jsxs)("div",{className:"home",children:[Object(p.jsx)(g,{}),Object(p.jsx)(k,{type:t,setGenre:O}),a.map((function(e){return Object(p.jsx)(L,{list:e})}))]})},M=c(4);c(78);function R(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(l.a)(a,2),j=r[0],u=r[1],b=Object(s.useState)(""),O=Object(l.a)(b,2),d=O[0],h=O[1],x=Object(M.g)(),m=Object(s.useRef)(),v=Object(s.useRef)(),f=Object(s.useRef)(),g=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("a"),u(v.current.value),h(f.current.value),e.prev=4,e.next=7,S.a.post("auth/register",{email:c,username:d,password:j});case 7:x.push("/login"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"register",children:[Object(p.jsx)("div",{className:"top",children:Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsx)("img",{className:"logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/2560px-Netflix_2015_logo.svg.png",alt:""}),Object(p.jsx)("button",{className:"loginButton",onClick:function(e){console.log("lc"),x.push("/login")},children:"Sign In"})]})}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h1",{children:"Unlimited movies, TV shows, and more."}),Object(p.jsx)("h2",{children:"Watch anywhere. Cancel anytime."}),Object(p.jsx)("p",{children:"Ready to watch? Enter your email to create or restart your membership."}),c?Object(p.jsxs)("form",{className:"input",children:[Object(p.jsx)("input",{type:"username",placeholder:"username",ref:f}),Object(p.jsx)("input",{type:"password",placeholder:"password",ref:v}),Object(p.jsx)("button",{className:"registerButton",onClick:g,children:"Start"})]}):Object(p.jsxs)("div",{className:"input",children:[Object(p.jsx)("input",{type:"email",placeholder:"email address",ref:m}),Object(p.jsx)("button",{className:"registerButton",onClick:function(){n(m.current.value)},children:"Get Started"})]})]})]})}var E=c(103);c(79);function D(){var e=Object(M.h)().movie;return Object(p.jsxs)("div",{className:"watch",children:[Object(p.jsx)(O.b,{to:"/",children:Object(p.jsxs)("div",{className:"back",children:[Object(p.jsx)(E.a,{}),"Home"]})}),Object(p.jsx)("video",{className:"video",autoPlay:!0,progress:!0,controls:!0,src:e.video})]})}var B=function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,c){var s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"LOGIN_START"}),e.prev=1,e.next=4,S.a.post("http://localhost:8000/api/auth/login",t);case 4:s=e.sent,c(f(s.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:"LOGIN_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}();c(80);function P(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),r=Object(l.a)(a,2),i=r[0],o=r[1],j=Object(s.useContext)(m).dispatch;return Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)("div",{className:"top",children:Object(p.jsx)("div",{className:"wrapper",children:Object(p.jsx)("img",{className:"logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netflix_2015_logo.svg/2560px-Netflix_2015_logo.svg.png",alt:""})})}),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("form",{children:[Object(p.jsx)("h1",{children:"Sign In"}),Object(p.jsx)("input",{type:"email",placeholder:"Email or phone number",onChange:function(e){return n(e.target.value)}}),Object(p.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){return o(e.target.value)}}),Object(p.jsx)("button",{className:"loginButton",onClick:function(e){e.preventDefault(),B({email:c,password:i},j)},children:"Sign In"}),Object(p.jsxs)("span",{children:["New to Netflix? ",Object(p.jsx)("b",{children:"Sign up now."})]}),Object(p.jsxs)("small",{children:["This page is protected by Google reCAPTCHA to ensure you're not a bot. ",Object(p.jsx)("b",{children:"Learn more"}),"."]})]})})]})}var H=function(){var e=Object(s.useContext)(m).user;return Object(p.jsx)(O.a,{children:Object(p.jsxs)(M.d,{children:[Object(p.jsx)(M.b,{exact:!0,path:"/",children:e?Object(p.jsx)(G,{type:"movie"}):Object(p.jsx)(M.a,{to:"/register"})}),Object(p.jsx)(M.b,{path:"/register",children:e?Object(p.jsx)(M.a,{to:"/"}):Object(p.jsx)(R,{})}),Object(p.jsx)(M.b,{path:"/login",children:e?Object(p.jsx)(M.a,{to:"/"}):Object(p.jsx)(P,{})}),e&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(M.b,{path:"/movies",children:Object(p.jsx)(G,{type:"movie"})}),Object(p.jsx)(M.b,{path:"/series",children:Object(p.jsx)(G,{type:"series"})}),Object(p.jsx)(M.b,{path:"/watch",children:Object(p.jsx)(D,{})})]})]})})};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(v,{children:Object(p.jsx)(H,{})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.07984c74.chunk.js.map